
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://cloudcheflabs.github.io/chango-cloud-docs/1.6.0/ingestion/cli/">
      
      
        <link rel="prev" href="../../features/trino-gw/">
      
      
        <link rel="next" href="../streaming/">
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.1, mkdocs-material-9.1.21">
    
    
      
        <title>Chango Client CLI - Chango Cloud</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.eebd395e.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="purple">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#chango-cli" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Chango Cloud" class="md-header__button md-logo" aria-label="Chango Cloud" data-md-component="logo">
      
  <img src="../../images/chango-logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Chango Cloud
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Chango Client CLI
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="purple"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="blue" data-md-color-accent="lime"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../intro/intro/" class="md-tabs__link">
        Getting Started
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../features/streaming/" class="md-tabs__link">
        Features
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="./" class="md-tabs__link md-tabs__link--active">
        Data Ingestion
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Chango Cloud" class="md-nav__button md-logo" aria-label="Chango Cloud" data-md-component="logo">
      
  <img src="../../images/chango-logo.png" alt="logo">

    </a>
    Chango Cloud
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
      
      
      
        <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
          Getting Started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          Getting Started
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../intro/intro/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../intro/getting-started/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Features
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Features
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../features/streaming/" class="md-nav__link">
        Chango Cloud Streaming
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../features/ingestion/" class="md-nav__link">
        Chango Cloud Data Ingestion
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../features/trino-gw/" class="md-nav__link">
        Chango Cloud Trino Gateway
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Data Ingestion
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Data Ingestion
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Chango Client CLI
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Chango Client CLI
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#install-chango-cli" class="md-nav__link">
    Install Chango CLI
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#login" class="md-nav__link">
    Login
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ingest-json-data-to-chango" class="md-nav__link">
    Ingest Json Data to Chango
  </a>
  
    <nav class="md-nav" aria-label="Ingest Json Data to Chango">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-iceberg-table-before-json-data-ingestion" class="md-nav__link">
    Create Iceberg Table before Json Data Ingestion
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#local-json-data-to-chango" class="md-nav__link">
    Local Json Data to Chango
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#json-data-on-s3-to-chango" class="md-nav__link">
    Json Data on S3 to Chango
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-iceberg-table-using-trino-clients" class="md-nav__link">
    Query Iceberg Table using Trino Clients
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ingest-excel-data-to-chango" class="md-nav__link">
    Ingest Excel Data to Chango
  </a>
  
    <nav class="md-nav" aria-label="Ingest Excel Data to Chango">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#local-excel-to-chango" class="md-nav__link">
    Local Excel to Chango
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-iceberg-table-using-trino-clients_1" class="md-nav__link">
    Query Iceberg Table using Trino Clients
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ingest-csv-data-to-chango" class="md-nav__link">
    Ingest CSV Data to Chango
  </a>
  
    <nav class="md-nav" aria-label="Ingest CSV Data to Chango">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#local-csv-to-chango" class="md-nav__link">
    Local CSV to Chango
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#csv-on-s3-to-chango" class="md-nav__link">
    CSV on S3 to Chango
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#query-iceberg-table-using-trino-clients_2" class="md-nav__link">
    Query Iceberg Table using Trino Clients
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../streaming/" class="md-nav__link">
        Chango Client Streaming Library
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="chango-cli">Chango CLI</h1>
<p>To ingest external data to chango, chango provides Chango CLI to load json on local and S3 to chango as iceberg table. 
The chango client also provides to load local excel data to chango as iceberg table.</p>
<h2 id="install-chango-cli">Install Chango CLI</h2>
<p>Chango CLI is written in Java. It is assumed that Java 11 needs to be installed before.<br />
Run the following commands to install Chango CLI.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>curl -L -O https://github.com/cloudcheflabs/chango-client/releases/download/1.1.0/chango-client-1.1.0-executable.jar;
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>cp chango-client-1.1.0-executable.jar ~/bin/chango;
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>chmod +x ~/bin/chango;
</code></pre></div>
<p>Run chango, then it looks like this.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>chango
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>Usage: chango [COMMAND]
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>Chango Client Console.
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>Commands:
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>  login   Login to Chango.
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>  upload  Upload CSV, JSON, Excel data to Chango.
</code></pre></div>
<p>On windows, run the following.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>java -jar chango-client-1.0.0-executable.jar [Command]
</code></pre></div>
<h2 id="login">Login</h2>
<p>You need to be logged in to proceed other jobs provided by Chango CLI.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>chango login --admin-server https://chango-admin-oci.cloudchef-labs.com;
</code></pre></div>
<h2 id="ingest-json-data-to-chango">Ingest Json Data to Chango</h2>
<p>There are two options supported by Chango CLI to ingest json data to Chango CLI. Using Chango CLI, local json data can be ingested to chango. 
Json data located in S3 also can be ingested to chango.</p>
<h3 id="create-iceberg-table-before-json-data-ingestion">Create Iceberg Table before Json Data Ingestion</h3>
<p>Before sending json data to chango, Iceberg table needs to be created which can be done, for example, using Redash provided by chango.</p>
<p>For example, first create iceberg schema and then create iceberg table with some properties using trino clients.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>-- create iceberg schema.
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>CREATE SCHEMA IF NOT EXISTS iceberg.iceberg_db;
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>-- create iceberg table.
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>CREATE TABLE iceberg.iceberg_db.test_iceberg (
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>    baseproperties ROW(eventtype varchar, 
<a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>                       ts bigint, 
<a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>                       uid varchar, 
<a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>                       version varchar), 
<a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>    itemid varchar, 
<a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>    price bigint, 
<a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>    quantity bigint 
<a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>)
<a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a>WITH (
<a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>    partitioning = ARRAY[&#39;itemid&#39;],
<a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a>    format = &#39;PARQUET&#39;
<a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>);
</code></pre></div>
<blockquote>
<p><strong><em>NOTE:</em></strong> Take a note that the sequence  of table column names in lower case must be alphanumeric in ascending order.</p>
</blockquote>
<h3 id="local-json-data-to-chango">Local Json Data to Chango</h3>
<p>To send json data in local json file, you need to know the Chango Data API Server URL.</p>
<p>Take a look at the Chango Data API Server URL has the following convention.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>https://chango-data-api-jetty-oci-&lt;user&gt;.cloudchef-labs.com
</code></pre></div>
, where <code>&lt;user&gt;</code> is the chango user name.</p>
<p>For instance, we will use https://chango-data-api-jetty-oci-user1.cloudchef-labs.com with the chango user <code>user1</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>chango upload json local \
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>--data-api-server https://chango-data-api-jetty-oci-user1.cloudchef-labs.com \
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>--schema iceberg_db \
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>--table test_iceberg \
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>--file /home/opc/multi-line-json.json \
<a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>--batch-size 150000 \
<a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>;
</code></pre></div>
<ul>
<li><code>schema</code> : iceberg schema created before.</li>
<li><code>table</code>: iceberg table where json data will be ingested in chango.</li>
<li><code>file</code> : local json file path.</li>
<li><code>batch-size</code> : list of json in gzip will be sent in batch mode. the size of json list.</li>
</ul>
<p>You can send all json files in the directory.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>chango upload json local \
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a>--data-api-server https://chango-data-api-jetty-oci-user1.cloudchef-labs.com \
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>--schema iceberg_db \
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a>--table test_iceberg \
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a>--directory /home/opc/json-files \
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a>--batch-size 150000 \
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>;
</code></pre></div>
<ul>
<li><code>directory</code>: the directory where json files are located which will be sent to chango.</li>
</ul>
<h3 id="json-data-on-s3-to-chango">Json Data on S3 to Chango</h3>
<p>Json data located on S3 also can be sent to chango.</p>
<p>For instance, you type the specific object name in S3 like this.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a>chango upload json s3 \
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a>--data-api-server https://chango-data-api-jetty-oci-user1.cloudchef-labs.com \
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>--schema iceberg_db \
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>--table test_iceberg \
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a>--bucket &lt;bucket&gt; \
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>--access-key &lt;access-key&gt; \
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>--secret-key &lt;secret-key&gt; \
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a>--endpoint &lt;endpoint&gt; \
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>--object-name chango/json-files/multi-line-json.json \
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a>--batch-size 150000 \
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a>;
</code></pre></div>
<ul>
<li><code>bucket</code> : S3 bucket name.</li>
<li><code>access-key</code> : S3 access key.</li>
<li><code>secret-key</code> : S3 secret key.</li>
<li><code>endpoint</code> : S3 endpoint url.</li>
<li><code>object-name</code> :  object name which is json file to be sent to chango.</li>
</ul>
<p>You can also send all the objects inside the specified object name.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>chango upload json s3 \
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a>--data-api-server https://chango-data-api-jetty-oci-user1.cloudchef-labs.com \
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a>--schema iceberg_db \
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a>--table test_iceberg \
<a id="__codelineno-9-5" name="__codelineno-9-5" href="#__codelineno-9-5"></a>--bucket &lt;bucket&gt; \
<a id="__codelineno-9-6" name="__codelineno-9-6" href="#__codelineno-9-6"></a>--access-key &lt;access-key&gt; \
<a id="__codelineno-9-7" name="__codelineno-9-7" href="#__codelineno-9-7"></a>--secret-key &lt;secret-key&gt; \
<a id="__codelineno-9-8" name="__codelineno-9-8" href="#__codelineno-9-8"></a>--endpoint &lt;endpoint&gt; \
<a id="__codelineno-9-9" name="__codelineno-9-9" href="#__codelineno-9-9"></a>--object-name chango/json-files/ \
<a id="__codelineno-9-10" name="__codelineno-9-10" href="#__codelineno-9-10"></a>--batch-size 150000 \
<a id="__codelineno-9-11" name="__codelineno-9-11" href="#__codelineno-9-11"></a>;
</code></pre></div>
<p>Take a look at object-name is the object <code>chango/json-files/</code> . It means, all the json files located inside of this object will be sent to chango.</p>
<h3 id="query-iceberg-table-using-trino-clients">Query Iceberg Table using Trino Clients</h3>
<p>Json data ingested to iceberg table in chango can be queries using trino clients like Trino CLI, Redash and Metabase.</p>
<p>You can run the following query if json data is ingested to chango.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>select * from iceberg.iceberg_db.test_iceberg limit 1000;
</code></pre></div>
<h2 id="ingest-excel-data-to-chango">Ingest Excel Data to Chango</h2>
<p>There is no need to create iceberg table before sending excel data to chango. Chango will create iceberg table automatically.</p>
<blockquote>
<p><strong><em>NOTE:</em></strong> Take a note that the header of excel must exist.</p>
</blockquote>
<p>You can also define a iceberg table(for example, iceberg table with the definition of partition columns) before uploading excel to chango.</p>
<h3 id="local-excel-to-chango">Local Excel to Chango</h3>
<p>Take a look at Chango Data API Server for Excel is different from the one for Json. It has the following convention.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>https://chango-data-api-oci-&lt;user&gt;.cloudchef-labs.com
</code></pre></div>
<p>Let’s send excel to chango. For example, we will use the chango user <code>user1</code> .</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>chango upload excel local \
<a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a>--data-api-server https://chango-data-api-oci-user1.cloudchef-labs.com \
<a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a>--schema iceberg_db \
<a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>--table excel_to_json \
<a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a>--file /home/opc/chango/data-api/src/test/resources/data/excel-to-json2.xlsx \
<a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a>;
</code></pre></div>
<h3 id="query-iceberg-table-using-trino-clients_1">Query Iceberg Table using Trino Clients</h3>
<p>You can run the following query if excel data is ingested to chango.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>select * from iceberg.iceberg_db.excel_to_json limit 1000;
</code></pre></div>
<h2 id="ingest-csv-data-to-chango">Ingest CSV Data to Chango</h2>
<p>As like Excel, you don’t have to create iceberg table beforehand. Chango will create iceberg table automatically.</p>
<blockquote>
<p><strong><em>NOTE:</em></strong> Take a note that the header of csv must exist.</p>
</blockquote>
<p>You can also define a iceberg table(for example, iceberg table with the definition of partition columns) before uploading csv to chango.</p>
<h3 id="local-csv-to-chango">Local CSV to Chango</h3>
<p>Take a look at Chango Data API Server for CSV is different from the one for Json. It has the following convention like Excel file upload.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>https://chango-data-api-oci-&lt;user&gt;.cloudchef-labs.com
</code></pre></div>
<p>Let’s upload CSV to chango. For example, we will use the chango user <code>user1</code> .</p>
<p>The following example is to upload CSV with the separator of comma.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>chango upload csv local \
<a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>--data-api-server https://chango-data-api-oci-user1.cloudchef-labs.com \
<a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>--schema iceberg_db \
<a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>--table csv_to_json_comma \
<a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a>--separator &quot;,&quot; \
<a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>--is-single-quote false \
<a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>--file /home/opc/chango/data-api/src/test/resources/data/csv-to-json-comma.csv \
<a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a>;
</code></pre></div>
<ul>
<li><code>separator</code> is the separator of csv data. If csv data is tab separated, the value is <code>TAB</code> . But for another separators, you need to type a separator value, for instance,  <code>,</code> , <code>|</code> , or something else.</li>
<li><code>is-single-quote</code> is if the escaped value of csv data is single quoted or not. Deffault is <code>false</code>.</li>
</ul>
<p>For tab separated CSV, use the following.</p>
<p><div class="highlight"><pre><span></span><code><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>chango upload csv local \
<a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>--data-api-server https://chango-data-api-oci-user1.cloudchef-labs.com \
<a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a>--schema iceberg_db \
<a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a>--table csv_to_json_tab \
<a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a>--separator TAB \
<a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a>--is-single-quote false \
<a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a>--file /home/opc/chango/data-api/src/test/resources/data/csv-to-json-tab.csv \
<a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a>;
</code></pre></div>
- parameter <code>separator</code> value must be <code>TAB</code>.</p>
<p>You can upload multiple csv files located in the directory.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a>chango upload csv local \
<a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a>--data-api-server https://chango-data-api-oci-user1.cloudchef-labs.com \
<a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a>--schema iceberg_db \
<a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a>--table csv_to_json_comma \
<a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a>--separator &quot;,&quot; \
<a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a>--is-single-quote false \
<a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a>--directory /home/opc/local-csvs \
<a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a>;
</code></pre></div>
<h3 id="csv-on-s3-to-chango">CSV on S3 to Chango</h3>
<p>You can upload CSV data located on S3 to Chango.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a>chango upload csv s3 \
<a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a>--data-api-server https://chango-data-api-oci-user1.cloudchef-labs.com \
<a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a>--schema iceberg_db \
<a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a>--table csv_to_json_comma \
<a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a>--separator &quot;,&quot; \
<a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a>--is-single-quote false \
<a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a>--bucket &lt;bucket&gt; \
<a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a>--access-key &lt;access-key&gt; \
<a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a>--secret-key &lt;secret-key&gt; \
<a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a>--endpoint &lt;endpoint&gt; \
<a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a>--object-name csv-files/csv-to-json-comma.csv \
<a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a>;
</code></pre></div>
<p>You can upload multiple CSV files located in the parent S3 object.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>chango upload csv s3 \
<a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a>--data-api-server https://chango-data-api-oci-user1.cloudchef-labs.com \
<a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a>--schema iceberg_db \
<a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a>--table csv_to_json_comma \
<a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a>--separator &quot;,&quot; \
<a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a>--is-single-quote false \
<a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a>--bucket &lt;bucket&gt; \
<a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a>--access-key &lt;access-key&gt; \
<a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a>--secret-key &lt;secret-key&gt; \
<a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a>--endpoint &lt;endpoint&gt; \
<a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a>--object-name csv-files/ \
<a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a>;
</code></pre></div>
<p>Take a note that the value of <code>object-name</code> is <code>csv-files/</code> in which all the CSV files will be uploaded to chango.</p>
<h3 id="query-iceberg-table-using-trino-clients_2">Query Iceberg Table using Trino Clients</h3>
<p>You can run the following query if csv data is ingested to chango.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>select * from iceberg.iceberg_db.csv_to_json_comma limit 1000;
</code></pre></div>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      © <script>document.write(new Date().getFullYear())</script> Cloud Chef Labs Inc. All rights reserved.
              825-86-01950 Nonhyeonro 509, C707, Gangnamgu, Seoul 06132, South Korea.
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.sections", "toc.integrate", "navigation.top", "search.suggest", "search.highlight", "content.tabs.link", "content.code.annotation", "content.code.copy", "header.autohide"], "search": "../../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "1.6.0", "provider": "mike"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.220ee61c.min.js"></script>
      
    
  </body>
</html>